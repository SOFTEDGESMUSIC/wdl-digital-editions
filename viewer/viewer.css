:root{
  --bg:#fff; --fg:#111; --muted:#666;
  --ctrlH:44px;                 /* toolbar height */
  --barW:28vw; --barMax:480px;  /* toolbar width (desktop) */
}

html,body{height:100%; margin:0; background:var(--bg); color:var(--fg);}

/* Progress (thin, subtle) */
#progress{
  position:fixed; top:0; left:0; height:2px; width:0;
  background:#111; z-index:20; transition:width .2s ease, opacity .15s ease;
  opacity:0;
}
#progress.active{ opacity:1; }

/* Viewer area */
#viewer{
  position:relative;
  height:calc(100vh - var(--ctrlH) - 12px - env(safe-area-inset-bottom));
  padding-bottom:calc(var(--ctrlH) + 16px + env(safe-area-inset-bottom));
  overflow:auto;
  display:flex;
  align-items:flex-start;
  justify-content:center;
  background:var(--bg);
  -webkit-overflow-scrolling: touch;
  /* allow our custom gestures */
  touch-action:none;
}
#pageWrap{ position:relative; line-height:0; touch-action:none; }
#pageCanvas{ display:block; background:#fff; box-shadow:0 2px 12px rgba(0,0,0,.06); touch-action:none; }

/* Edge click zones + chevrons */
.edge{
  position:absolute; top:0; bottom:0; width:20%;
  display:flex; align-items:center; justify-content:center;
  opacity:.0; transition:opacity .12s ease; z-index:5; pointer-events:auto;
}
.edge-left{ left:0; }
.edge-right{ right:0; }
.edge:hover{ opacity:.45; }
.edge .chev{
  font-family:system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
  font-size:28px; line-height:1; color:#bdbdbd;
  background:rgba(255,255,255,.95);
  border:1px solid rgba(0,0,0,.10);
  /* square corners per request */
  border-radius:0;
  padding:.2rem .5rem;
  box-shadow:0 2px 10px rgba(0,0,0,.06);
  user-select:none; pointer-events:none;
}

/* Fixed control bar (smaller, square corners) */
#controls{
  position:fixed; left:50%; bottom:calc(8px + env(safe-area-inset-bottom));
  transform:translateX(-50%);
  width:min(var(--barW), var(--barMax));
  height:var(--ctrlH);
  display:flex; align-items:center; justify-content:center; gap:.35rem;
  background:#fff; border:1px solid rgba(0,0,0,.12);
  border-radius:0; /* square */
  box-shadow:0 3px 12px rgba(0,0,0,.08);
  padding:6px 8px; z-index:30;
}

#page-info{
  min-width:70px; text-align:center;
  font:500 13px/1 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial; color:#222;
}

#controls button,
#controls a{
  display:inline-flex; align-items:center; justify-content:center;
  min-width:32px; height:32px; padding:0 .5rem;
  border:1px solid rgba(0,0,0,.12);
  border-radius:0;            /* square */
  background:#fff; color:#000; cursor:pointer; text-decoration:none;
  font:600 13px/1 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
}
#controls button:hover, #controls a:hover{ background:#f5f5f5; }

#openpdf{ font-size:16px; }

/* Mobile tweaks */
@media (max-width:820px){
  .edge{ width:24%; }
  /* smaller bar on small screens */
  #controls{ width:min(92vw, 380px); }
}
