:root{
  --bg:#fff; --fg:#111; --muted:#666;
  --ctrlH:50px;                 /* toolbar height */
  --barW:33vw; --barMax:560px;  /* toolbar width */
}

html,body{height:100%; margin:0; background:var(--bg); color:var(--fg);}

/* Progress: hidden unless loading */
#progress{
  position:fixed; top:0; left:0; height:0; width:0;
  background:#111; z-index:20; transition:width .2s ease, height .15s ease;
}
#progress.active{ height:3px; }

#viewer{
  position:relative;
  height:calc(100vh - var(--ctrlH) - 12px - env(safe-area-inset-bottom));
  padding-bottom:calc(var(--ctrlH) + 16px + env(safe-area-inset-bottom));
  overflow:auto;
  display:flex;
  align-items:flex-start;
  justify-content:center;
  background:var(--bg);
  -webkit-overflow-scrolling: touch;
}

/* Canvas wrapper to host overlays */
#pageWrap{ position:relative; line-height:0; }
#pageCanvas{ display:block; background:#fff; box-shadow:0 2px 12px rgba(0,0,0,.06); }

/* Edge click zones + chevrons (light grey) */
.edge{
  position:absolute; top:0; bottom:0; width:30%;
  display:flex; align-items:center; justify-content:center;
  opacity:.0; transition:opacity .12s ease; z-index:5; pointer-events:auto;
}
.edge-left{ left:0; }
.edge-right{ right:0; }
.edge:hover{ opacity:.5; }
.edge .chev{
  font-family:system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
  font-size:34px; line-height:1; color:#bbb;
  background:rgba(255,255,255,.9);
  border:1px solid rgba(0,0,0,.08);
  border-radius:999px; padding:.2rem .5rem;
  box-shadow:0 2px 10px rgba(0,0,0,.06);
  user-select:none; pointer-events:none;
}

/* Fixed control bar (always at bottom) */
#controls{
  position:fixed; left:50%; bottom:calc(8px + env(safe-area-inset-bottom));
  transform:translateX(-50%);
  width:min(var(--barW), var(--barMax));
  height:var(--ctrlH);
  display:flex; align-items:center; justify-content:center; gap:.5rem;
  background:#fff; border:1px solid rgba(0,0,0,.10);
  border-radius:10px; box-shadow:0 4px 16px rgba(0,0,0,.08);
  padding:6px 8px; z-index:30;
}

#page-info{
  min-width:80px; text-align:center;
  font:500 14px/1 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial; color:#222;
}

#controls button,
#controls a{
  display:inline-flex; align-items:center; justify-content:center;
  min-width:36px; height:36px; padding:0 .6rem;
  border:1px solid rgba(0,0,0,.12); border-radius:8px;
  background:#fff; color:#000; cursor:pointer; text-decoration:none;
  font:600 14px/1 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
}
#controls button:hover, #controls a:hover{ background:#f5f5f5; }

#openpdf{ font-size:16px; }

/* Mobile tweaks */
@media (max-width:820px){
  .edge{ width:25%; }
  #controls{ width:calc(100vw - 24px); }
}
