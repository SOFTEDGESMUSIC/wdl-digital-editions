:root{
  --bg:#fff; --fg:#111; --muted:#666;
  --ctrlH:40px;                 /* compact toolbar */
  --barW:26vw; --barMax:420px;  /* default toolbar width (desktop) */
}

html,body{height:100%; margin:0; background:var(--bg); color:var(--fg);}

/* Thin progress bar; only visible while loading */
#progress{
  position:fixed; top:0; left:0; height:2px; width:0;
  background:#111; z-index:20; transition:width .2s ease, opacity .15s ease;
  opacity:0;
}
#progress.active{ opacity:1; }

/* Viewer area */
#viewer{
  position:relative;
  height:calc(100vh - var(--ctrlH) - 12px - env(safe-area-inset-bottom));
  padding-bottom:calc(var(--ctrlH) + 16px + env(safe-area-inset-bottom));
  overflow:auto;
  display:flex;
  align-items:flex-start;
  justify-content:center;
  background:var(--bg);
  -webkit-overflow-scrolling: touch;
  /* enable our pinch / pan handlers */
  touch-action:none;
}
#pageWrap{ position:relative; line-height:0; touch-action:none; }
#pageCanvas{ display:block; background:#fff; box-shadow:0 2px 12px rgba(0,0,0,.06); touch-action:none; }

/* Edge click zones + chevrons */
.edge{
  position:absolute; top:0; bottom:0; width:20%;
  display:flex; align-items:center; justify-content:center;
  opacity:.0; transition:opacity .12s ease; z-index:5; pointer-events:auto;
}
.edge-left{ left:0; }
.edge-right{ right:0; }
.edge:hover{ opacity:.45; }
.edge .chev{
  font-family:system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
  font-size:26px; line-height:1; color:#bdbdbd;
  background:rgba(255,255,255,.95);
  border:1px solid rgba(0,0,0,.10);
  border-radius:0; /* square corners */
  padding:.15rem .45rem;
  box-shadow:0 2px 10px rgba(0,0,0,.06);
  user-select:none; pointer-events:none;
}

/* Fixed control bar (smaller, square corners) */
#controls{
  position:fixed; left:50%; bottom:calc(8px + env(safe-area-inset-bottom));
  transform:translateX(-50%);
  width:min(var(--barW), var(--barMax));
  height:var(--ctrlH);
  display:flex; align-items:center; justify-content:center; gap:.3rem;
  background:#fff; border:1px solid rgba(0,0,0,.12);
  border-radius:0; /* square */
  box-shadow:0 3px 12px rgba(0,0,0,.08);
  padding:5px 8px; z-index:30;
}

#page-info{
  min-width:64px; text-align:center;
  font:500 12px/1 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial; color:#222;
}

#controls button,
#controls a{
  display:inline-flex; align-items:center; justify-content:center;
  min-width:30px; height:30px; padding:0 .45rem;
  border:1px solid rgba(0,0,0,.12);
  border-radius:0;             /* square */
  background:#fff; color:#000; cursor:pointer; text-decoration:none;
  font:600 12px/1 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
}
#controls button:hover, #controls a:hover{ background:#f5f5f5; }

#openpdf{ font-size:16px; }

/* Mobile tweaks */
@media (max-width:820px){
  .edge{ width:24%; }
  #controls{
    width:min(94vw, 360px);
    gap:.25rem;
  }
  #controls button, #controls a{
    min-width:28px; height:28px; padding:0 .4rem; font-size:12px;
  }
  #page-info{ min-width:56px; font-size:12px; }
}
